<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>STEMSphere Academy</title>

  <!-- Vimeo Player API -->
  <script src="https://player.vimeo.com/api/player.js"></script>
  <!-- Calendly inline widget CSS -->
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet"/>

  <style>
    /* Basic Reset & Base Styles */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #000;
      color: #fff;
      text-align: center;
      line-height: 1.4;
    }
    a { color: inherit; text-decoration: none; }

    /* Header */
    header {
      padding: 3em 1em 1em;
    }
    .title-group {
      display: inline-block;
      margin-bottom: 0.8em;
    }
    .title-group span {
      display: block;
      font-size: 2.8em;
      font-weight: 700;
      color: #FFDD00;
      letter-spacing: 1px;
      margin: 0.4em 0;
    }
    h2 {
      font-size: 1.4em;
      color: #ccc;
      margin-top: 0.8em;
    }

    /* Main Container */
    main {
      max-width: 900px;
      margin: auto;
      padding: 2em 1em 3em;
    }

    /* Electric Frame around video */
    .electric-frame {
      position: relative;
      background: #000;
      padding: 10px;
      border-radius: 12px;
      margin: 2em auto;
      box-shadow:
        0 0 10px #fdf200,
        0 0 16px #ffe600,
        0 0 22px #fff000;
      animation: flicker 1.5s infinite alternate;
      max-width: 850px;
    }
    @keyframes flicker {
      from {
        box-shadow:
          0 0 8px #ffeb3b,
          0 0 12px #fdf200,
          0 0 18px #ffe600;
      }
      to {
        box-shadow:
          0 0 12px #fdf200,
          0 0 18px #fff000,
          0 0 24px #ffeb3b;
      }
    }

    /* Video Container & Overlay */
    .video-container {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
      height: 0;
      overflow: hidden;
      border-radius: 8px;
    }
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 8px;
    }
    .click-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 10;
      cursor: pointer;
    }

    /* Popup Form (2:20 pause) */
    #popup-form {
      display: none;
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      color: #fff;
      z-index: 20;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 1em;
    }
    #popup-form h3 {
      font-size: 1.4em;
      font-weight: 700;
      margin-bottom: 0.2em;
    }
    #popup-form p {
      color: #ccc;
      margin-bottom: 1em;
    }
    #popup-form input {
      width: 80%;
      max-width: 300px;
      padding: 0.8em;
      margin: 0.5em 0;
      border: none;
      border-radius: 4px;
      background: #222;
      color: #fff;
      font-size: 1em;
    }
    #popup-form button {
      padding: 0.8em 1.2em;
      margin-top: 0.5em;
      border: none;
      border-radius: 4px;
      background: #FFDD00;
      color: #000;
      font-weight: 700;
      cursor: pointer;
    }

    /* Sign Up & Schedule Buttons */
    .sign-up-btn,
    .schedule-btn {
      display: none;
      position: absolute;
      bottom: 15%;
      padding: 0.8em 1.2em;
      border: none;
      border-radius: 4px;
      background: #00FF00;
      color: #000;
      font-weight: 700;
      box-shadow: 0 0 8px rgba(0,255,0,0.7);
      cursor: pointer;
      z-index: 15;
    }
    .sign-up-btn { left: 10%; }
    .schedule-btn { right: 10%; }

    /* Arrow + Access Message */
    .arrow-up {
      font-size: 2.2em;
      color: #FFA500;
      letter-spacing: 0.5em;
      text-shadow: 0 0 6px #ffcc66;
      margin: 0.3em 0 0;
    }
    .access-message {
      font-size: 1.35em;
      font-weight: 700;
      font-family: 'Segoe UI Semibold', sans-serif;
      margin-top: 0.3em;
    }
    .stat-message {
      font-size: 0.95em;
      color: #ccc;
      margin-top: 1.2em;
      padding: 0 1em;
    }

    /* Calendly Popup */
    #calendly-popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      z-index: 30;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #calendly-popup .calendly-inline-widget {
      width: 320px;
      height: 580px;
      border: none;
    }
    #calendly-popup .close-cal {
      margin-top: 1em;
      padding: 0.5em 1em;
      background: #FFDD00;
      color: #000;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    /* Footer */
    footer {
      font-size: 0.85em;
      color: #bbb;
      padding: 2em 1em;
      border-top: 1px solid #333;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .title-group span  { font-size: 2em; }
      h2               { font-size: 1.2em; }
      .arrow-up        { font-size: 1.8em; }
      .access-message  { font-size: 1.2em; }
      .stat-message    { font-size: 0.9em; }
      #popup-form input,
      #popup-form button { width: 90%; }
      .sign-up-btn,
      .schedule-btn     { bottom: 10%; }
      #calendly-popup .calendly-inline-widget {
        width: 90%; height: 400px;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="title-group">
      <span>Other Courses Teach.</span>
      <span>We Transform.</span>
    </div>
    <h2>Better → Smarter → Faster Learning!</h2>
  </header>

  <main>
    <div class="electric-frame">

      <!-- Video + Overlay -->
      <div class="video-container">
        <iframe
          id="vimeo-player"
          src="https://player.vimeo.com/video/1105713391
            ?badge=0
            &autopause=0
            &player_id=vimeo-player
            &title=0
            &byline=0
            &portrait=0
            &controls=0"
          allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          title="Learn.stemsphere.academy">
        </iframe>
        <div class="click-overlay"></div>
      </div>

      <!-- 2:20 Popup Form -->
      <div id="popup-form">
        <h3>Want to continue watching?</h3>
        <p>Enter your details below:</p>
        <form id="leadForm"
              method="POST"
              action="https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec">
          <input type="text"   name="name"  placeholder="Your Name"   required/>
          <input type="email"  name="email" placeholder="Your Email"  required/>
          <button type="submit">Submit & Continue</button>
        </form>
      </div>

      <!-- Sign Up & Schedule Buttons -->
      <button class="sign-up-btn"
              onclick="location.href='https://www.stemsphere.academy'">
        Sign Up Now
      </button>
      <button class="schedule-btn">Schedule Now</button>
    </div>

    <div class="arrow-up">↑↑↑↑</div>
    <div class="access-message">Watch Video for Access Details</div>
    <p class="stat-message">
      9 out of 10 students don't complete the courses they start.
      STEMSphere Academy breaks these statistics.
    </p>
  </main>

  <!-- Calendly Popup -->
  <div id="calendly-popup">
    <div class="calendly-inline-widget"
         data-url="https://calendly.com/stemxsphere/trialclass">
    </div>
    <button class="close-cal">Close</button>
  </div>

  <footer>
    © 2025 STEMSphere Academy. All rights reserved.
  </footer>

  <!-- Calendly JS -->
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

  <!-- Player + Form + Calendly Logic -->
  <script>
    const iframe   = document.getElementById('vimeo-player');
    const player   = new Vimeo.Player(iframe);
    const overlay  = document.querySelector('.click-overlay');
    const popup    = document.getElementById('popup-form');
    const signBtn  = document.querySelector('.sign-up-btn');
    const schedBtn = document.querySelector('.schedule-btn');
    const calPop   = document.getElementById('calendly-popup');
    const closeCal = document.querySelector('.close-cal');

    let flags = { form: false, signUp: false, schedule: false };

    // Play/pause on overlay click
    overlay.addEventListener('click', () =>
      player.getPaused().then(paused => paused ? player.play() : player.pause())
    );

    // Time-based triggers
    player.on('timeupdate', ({ seconds: t }) => {
      if (!flags.form && t >= 140) {
        flags.form = true;
        player.pause();
        popup.style.display = 'flex';
      }
      if (!flags.signUp && t >= 384) {
        flags.signUp = true;
        signBtn.style.display = 'block';
      }
      if (!flags.schedule && t >= 394) {
        flags.schedule = true;
        schedBtn.style.display = 'block';
      }
    });

    // Form submit → resume video
    document.getElementById('leadForm').addEventListener('submit', e => {
      e.preventDefault();
      fetch(e.target.action, {
        method: 'POST',
        body: new FormData(e.target),
        mode: 'no-cors'
      }).finally(() => {
        popup.style.display = 'none';
        player.play();
      });
    });

    // Schedule button opens Calendly
    schedBtn.addEventListener('click', () => calPop.style.display = 'flex');
    closeCal.addEventListener('click', () => calPop.style.display = 'none');
  </script>
</body>
</html>
