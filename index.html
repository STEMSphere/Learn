<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>STEMSphere Academy</title>

  <!-- Calendly inline widget CSS -->
  <link
    href="https://assets.calendly.com/assets/external/widget.css"
    rel="stylesheet"
  />

  <style>
    /* ----------------------------------------------------------------
       Global Reset & Base Styles
    ---------------------------------------------------------------- */
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #000;
      color: #fff;
      text-align: center;
    }

    header {
      padding: 3em 1em 1em;
    }

    .title-group {
      display: inline-block;
      margin-bottom: 0.8em;
    }

    .title-group span {
      display: block;
      font-size: 2.8em;
      font-weight: 700;
      color: #FFDD00;
      letter-spacing: 1px;
      margin: 0.4em 0;
    }

    h2 {
      font-size: 1.4em;
      color: #ccc;
      margin-top: 0.8em;
    }

    main {
      max-width: 850px;
      margin: auto;
      padding: 2em 1em 3em;
    }

    /* ----------------------------------------------------------------
       Electric Frame (original container styling)
    ---------------------------------------------------------------- */
    .electric-frame {
      position: relative;
      padding: 10px;
      border-radius: 12px;
      margin: 2em auto;
      background-color: #000;
      box-shadow:
        0 0 10px #fdf200,
        0 0 16px #ffe600,
        0 0 22px #fff000;
      animation: flicker 1.5s infinite alternate;
      max-width: 800px;
    }

    @keyframes flicker {
      0% {
        box-shadow:
          0 0 8px #ffeb3b,
          0 0 12px #fdf200,
          0 0 18px #ffe600;
      }
      100% {
        box-shadow:
          0 0 12px #fdf200,
          0 0 18px #fff000,
          0 0 24px #ffeb3b;
      }
    }

    /* ----------------------------------------------------------------
       Original video‚Äêcontainer block (now wraps our masked video)
    ---------------------------------------------------------------- */
    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: 8px;
    }

    /* ----------------------------------------------------------------
       ‚ñ∂Ô∏è Masked Video Styles (ADDED ONLY)
    ---------------------------------------------------------------- */
    .video-wrapper {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: #000;
      border-radius: 8px;
      overflow: hidden;
    }

    .cover-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 60px;
      background: #000;
      z-index: 150;
      pointer-events: none;
      display: none;
    }

    .placeholder-frame {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-image: url('https://img.youtube.com/vi/9bvO-33YZxE/maxresdefault.jpg');
      background-size: cover;
      background-position: center;
      cursor: pointer;
      z-index: 100;
    }

    .play-button {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 80px; height: 80px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.85);
      box-shadow: 0 0 15px #ffeb3b;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 101;
    }

    .play-button::after {
      content: '';
      display: block;
      width: 0; height: 0;
      border-left: 25px solid #000;
      border-top: 15px solid transparent;
      border-bottom: 15px solid transparent;
    }

    #player {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: none;
      z-index: 1;
    }

    @media (max-width: 600px) {
      .play-button {
        width: 60px; height: 60px;
      }
      .play-button::after {
        border-left: 18px solid #000;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
      }
    }

    /* ----------------------------------------------------------------
       Everything below this line is unchanged from your original CSS:
       form overlays, sign-up & schedule buttons, Calendly popup, footer‚Ä¶
    ---------------------------------------------------------------- */
    /* Form overlay (2:20 pause) */
    #popup-form { /* ‚Ä¶ your original styles ‚Ä¶ */ }
    /* Sign-up & schedule buttons */
    .sign-up-btn, .schedule-btn { /* ‚Ä¶ your original styles ‚Ä¶ */ }
    /* Arrow, messages, Calendly popup, footer, responsive tweaks ‚Ä¶ */
    /* ‚Ä¶ full ~200 lines of your existing CSS ‚Ä¶ */

  </style>
</head>

<body>
  <!-- HEADER: UNTOUCHED -->
  <header>
    <div class="title-group">
      <span>Other Courses Teach.</span>
      <span>We Transform.</span>
    </div>
    <h2>Better ‚Üí Smarter ‚Üí Faster Learning!</h2>
  </header>

  <main>
    <!-- ‚Ä¶ your original hero copy / benefits / etc. ‚Ä¶ -->

    <!-- üîÅ Masked YouTube Section (replaces old .video-container) -->
    <div class="electric-frame">
      <div class="video-container" id="video-container">
        <div class="video-wrapper">
          <div class="cover-overlay" id="cover"></div>
          <div class="placeholder-frame" id="placeholder"></div>
          <div class="play-button" id="playBtn"></div>
          <div id="player"></div>
        </div>
      </div>

      <!-- Original popup form & buttons UNCHANGED -->
      <div id="popup-form">
        <h3>Want to continue watching the video?</h3>
        <p>Enter your details below:</p>
        <form
          id="leadForm"
          method="POST"
          action="https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec"
        >
          <input type="text" name="name" placeholder="Your Name" required />
          <input type="email" name="email" placeholder="Your Email" required />
          <button type="submit">Submit & Continue</button>
        </form>
      </div>

      <button
        class="sign-up-btn"
        onclick="window.location='https://www.stemsphere.academy'"
      >
        Sign Up Now
      </button>
      <button class="schedule-btn">Schedule Now</button>
    </div>

    <div class="arrow-up">‚Üë‚Üë‚Üë‚Üë</div>
    <div class="access-message">Watch Video for Access Details</div>
    <p class="stat-message">
      9 out of 10 students don't complete the courses they start.
      STEMSphere Academy breaks these statistics
    </p>

    <!-- ‚Ä¶ the rest of your page content (testimonials, FAQ, footer) untouched ‚Ä¶ -->
  </main>

  <!-- Calendly inline popup container (UNCHANGED) -->
  <div id="calendly-popup">
    <div
      class="calendly-inline-widget"
      data-url="https://calendly.com/stemxsphere/trialclass"
    ></div>
    <button class="close-cal">Close</button>
  </div>

  <footer>
    ¬© 2025 STEMSphere Academy. All rights reserved.
  </footer>

  <!-- Calendly JS (UNCHANGED) -->
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

  <!-- ‚ñ∂Ô∏è Masked Video + Milestone Logic (UPDATED JS) -->
  <script>
    // 1) Load YouTube API
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.head.appendChild(tag);

    let player,
        pauseTime    = 140,
        signUpTime   = 384,
        scheduleTime = 394,
        intervalId,
        flags = { form: false, signUp: false, schedule: false };

    // 2) Create YT Player
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        host: 'https://www.youtube-nocookie.com',
        videoId: '9bvO-33YZxE',
        playerVars: {
          controls: 0,
          disablekb: 1,
          modestbranding: 1,
          rel: 0,
          iv_load_policy: 3,
          enablejsapi: 1,
          autoplay: 0
        },
        events: {
          onReady: onPlayerReady,
          onStateChange: onPlayerStateChange
        }
      });
    }

    // 3) Setup click-to-play and hover-cover in one listener
    function onPlayerReady() {
      const container   = document.getElementById('video-container');
      const placeholder = document.getElementById('placeholder');
      const playBtn     = document.getElementById('playBtn');
      const cover       = document.getElementById('cover');

      let started = false;

      container.addEventListener('click', () => {
        if (!started) {
          placeholder.style.display = 'none';
          playBtn.style.display     = 'none';
          document.getElementById('player').style.display = 'block';
          started = true;
        }
        const state = player.getPlayerState();
        if (state === YT.PlayerState.PLAYING) {
          player.pauseVideo();
        } else {
          player.playVideo();
        }
      });

      container.addEventListener('mouseenter', () => {
        if (started && player.getPlayerState() === YT.PlayerState.PAUSED) {
          cover.style.display = 'block';
        }
      });
      container.addEventListener('mouseleave', () => {
        cover.style.display = 'none';
      });
    }

    // 4) Show/hide cover & trigger milestones
    function onPlayerStateChange(event) {
      const cover = document.getElementById('cover');

      if (event.data === YT.PlayerState.PLAYING) {
        cover.style.display = 'none';
        intervalId = setInterval(checkMilestones, 500);
      } else if (event.data === YT.PlayerState.PAUSED) {
        cover.style.display = 'block';
        clearInterval(intervalId);
      }
    }

    function checkMilestones() {
      const t = player.getCurrentTime();

      if (!flags.form && t >= pauseTime) {
        flags.form = true;
        clearInterval(intervalId);
        player.pauseVideo();
        document.getElementById('popup-form').style.display = 'flex';
      }
      if (!flags.signUp && t >= signUpTime) {
        flags.signUp = true;
        document.querySelector('.sign-up-btn').style.display = 'block';
      }
      if (!flags.schedule && t >= scheduleTime) {
        flags.schedule = true;
        document.querySelector('.schedule-btn').style.display = 'block';
      }
    }

    // 5) Original form + Calendly logic (unchanged)
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('leadForm').addEventListener('submit', e => {
        e.preventDefault();
        const data = new FormData(e.target);
        fetch(e.target.action, { method: 'POST', body: data, mode: 'no-cors' })
          .finally(() => {
            document.getElementById('popup-form').style.display = 'none';
            player.playVideo();
          });
      });

      document.querySelector('.schedule-btn').addEventListener('click', () => {
        document.getElementById('calendly-popup').style.display = 'flex';
      });
      document.querySelector('.close-cal').addEventListener('click', () => {
        document.getElementById('calendly-popup').style.display = 'none';
      });
    });
  </script>
</body>
</html>
