<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>STEMSphere Academy</title>

  <!-- Calendly inline widget CSS -->
  <link
    href="https://assets.calendly.com/assets/external/widget.css"
    rel="stylesheet"
  />

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #000;
      color: #fff;
      text-align: center;
    }

    header {
      padding: 3em 1em 1em;
    }

    .title-group {
      display: inline-block;
      margin-bottom: 0.4em;
    }

    .title-group span {
      display: block;
      font-size: 2.8em;
      font-weight: 700;
      color: #FFDD00;
      letter-spacing: 1px;
      margin: 0.4em 0;
    }

    h2 {
      font-size: 1.4em;
      color: #ccc;
      margin-top: 0.2em;
    }

    .course-bar {
      display: inline-flex;
      align-items: center;
      padding: 0.4em 1em;
      border-radius: 999px;
      background: linear-gradient(90deg, #00f8ff, #ff00d0);
      font-weight: 700;
      font-size: 0.95em;
      color: #fff;
      margin-top: 0.6em;
    }

    .course-bar span + span {
      margin-left: 0.5em;
    }

    main {
      max-width: 850px;
      margin: auto;
      padding: 2em 1em 3em;
    }

    .electric-frame {
      position: relative;
      padding: 10px;
      border-radius: 12px;
      margin: 2em auto;
      background-color: #000;
      box-shadow: 0 0 10px #fdf200, 0 0 16px #ffe600, 0 0 22px #fff000;
      animation: flicker 1.5s infinite alternate;
      max-width: 800px;
    }

    @keyframes flicker {
      0% {
        box-shadow: 0 0 8px #ffeb3b, 0 0 12px #fdf200, 0 0 18px #ffe600;
      }
      100% {
        box-shadow: 0 0 12px #fdf200, 0 0 18px #fff000, 0 0 24px #ffeb3b;
      }
    }

    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: 8px;
    }

    .cover-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }

    .cover-overlay .play-btn {
      font-size: 4em;
      color: #fff;
      opacity: 0.8;
    }

    #player {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .click-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 700;
      cursor: pointer;
    }

    #popup-form {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      z-index: 1000;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 1em;
    }

    #popup-form h3 {
      margin-bottom: 0.2em;
      font-size: 1.4em;
      font-weight: 700;
    }

    #popup-form p {
      margin-bottom: 1em;
      font-size: 1em;
      color: #ccc;
    }

    #popup-form input {
      width: 80%;
      max-width: 300px;
      padding: 0.8em;
      margin: 0.5em 0;
      border: none;
      border-radius: 4px;
      background: #222;
      color: #fff;
      font-size: 1em;
    }

    #popup-form button {
      padding: 0.8em 1.2em;
      margin-top: 0.5em;
      border: none;
      border-radius: 4px;
      background: #FFDD00;
      color: #000;
      font-weight: 700;
      cursor: pointer;
    }

    .sign-up-btn,
    .schedule-btn {
      display: none;
      position: absolute;
      bottom: 15%;
      padding: 0.8em 1.2em;
      border: none;
      border-radius: 4px;
      background: #00FF00;
      color: #000;
      font-weight: 700;
      box-shadow: 0 0 8px rgba(0, 255, 0, 0.7);
      cursor: pointer;
      z-index: 900;
    }

    .sign-up-btn {
      left: 10%;
    }

    .schedule-btn {
      right: 10%;
    }

    .arrow-up {
      font-size: 2.2em;
      color: #FFA500;
      text-shadow: 0 0 6px #ffcc66;
      letter-spacing: 0.5em;
      margin: 0.3em 0 0;
    }

    .access-message {
      font-size: 1.35em;
      font-weight: 700;
      font-family: 'Segoe UI Semibold', sans-serif;
      margin-top: 0.3em;
    }

    .stat-message {
      font-size: 0.95em;
      color: #ccc;
      margin-top: 1.2em;
      padding: 0 1em;
      line-height: 1.4em;
    }

    #calendly-popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      z-index: 1500;
      align-items: center;
      justify-content: center;
    }

    #calendly-popup .calendly-inline-widget {
      width: 320px;
      height: 580px;
      border: none;
    }

    #calendly-popup .close-cal {
      margin-top: 1em;
      padding: 0.5em 1em;
      background: #FFDD00;
      color: #000;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    footer {
      font-size: 0.85em;
      color: #bbb;
      padding: 2em 1em;
      border-top: 1px solid #333;
    }

    @media (max-width: 600px) {
      .title-group span {
        font-size: 2em;
      }
      h2 {
        font-size: 1.2em;
      }
      .arrow-up {
        font-size: 1.8em;
      }
      .access-message {
        font-size: 1.2em;
      }
      .stat-message {
        font-size: 0.9em;
      }
      #popup-form input,
      #popup-form button {
        width: 90%;
        font-size: 0.9em;
      }
      .sign-up-btn,
      .schedule-btn {
        bottom: 10%;
        font-size: 0.9em;
      }
      #calendly-popup .calendly-inline-widget {
        width: 90%;
        height: 400px;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="title-group">
      <span>Other Courses Teach.</span>
      <span>We Transform.</span>
    </div>
    <h2>Better → Smarter → Faster Learning!</h2>
    <div class="course-bar">
      <span>MATH</span><span>|</span><span>Chemistry</span><span>|</span><span>Biology</span><span>|</span><span>Coding & more</span>
    </div>
  </header>

  <main>
    <div class="electric-frame">
      <div class="video-container">
        <div class="cover-overlay">
          <div class="play-btn">▶</div>
        </div>
        <div id="player"></div>
        <div class="click-overlay"></div>
      </div>

      <div id="popup-form">
        <h3>Want to continue watching the video?</h3>
        <p>Enter your details below:</p>
        <form
          id="leadForm"
          method="POST"
          action="https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec"
        >
          <input type="text" name="name" placeholder="Your Name" required />
          <input type="email" name="email" placeholder="Your Email" required />
          <button type="submit">Submit & Continue</button>
        </form>
      </div>

      <button
        class="sign-up-btn"
        onclick="window.location='https://www.stemsphere.academy'"
      >
        Sign Up Now
      </button>
      <button class="schedule-btn">Schedule Now</button>
    </div>

    <div class="arrow-up">↑↑↑↑</div>
    <div class="access-message">Watch Video for Access Details</div>
    <p class="stat-message">
      9 out of 10 students don't complete the courses they start. STEMSphere Academy breaks these statistics
    </p>
  </main>

  <div id="calendly-popup">
    <div
      class="calendly-inline-widget"
      data-url="https://calendly.com/stemxsphere/trialclass"
    ></div>
    <button class="close-cal">Close</button>
  </div>

  <footer>© 2025 STEMSphere Academy. All rights reserved.</footer>

  <!-- Calendly widget -->
  <script
    src="https://assets.calendly.com/assets/external/widget.js"
    async
  ></script>

  <!-- click-to-play + milestone tracking (IG/FB-friendly) -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var clickOverlay = document.querySelector('.click-overlay');
      var coverOverlay = document.querySelector('.cover-overlay');
      var playerDiv    = document.getElementById('player');
      var formPopup    = document.getElementById('popup-form');
      var signUpBtn    = document.querySelector('.sign-up-btn');
      var scheduleBtn  = document.querySelector('.schedule-btn');

      var pauseTime    = 173; // 2:53
      var signUpTime   = 266; // 4:26
      var scheduleTime = 394; // original schedule trigger

      var videoID = '9bvO-33YZxE';
      var baseURL =
        'https://www.youtube.com/embed/' +
        videoID +
        '?rel=0&fs=0&showinfo=0&iv_load_policy=3&modestbranding=1&controls=1&playsinline=1';

      var videoStarted = false;
      var ping, iframe;

      function startVideo() {
        if (videoStarted) return;
        videoStarted = true;

        iframe = document.createElement('iframe');
        iframe.src              = baseURL;
        iframe.frameBorder      = '0';
        iframe.allow            = 'autoplay; encrypted-media; picture-in-picture';
        iframe.allowFullscreen  = true;
        iframe.setAttribute('playsinline', '');
        iframe.setAttribute('webkit-playsinline', '');
        iframe.style.width      = '100%';
        iframe.style.height     = '100%';
        playerDiv.appendChild(iframe);

        coverOverlay.style.display = 'none';
        clickOverlay.style.display = 'none';

        ping = setInterval(function () {
          iframe.contentWindow.postMessage(
            JSON.stringify({ event: 'listening', id: 1 }),
            '*'
          );
        }, 1000);

        window.addEventListener('message', onMessage);
      }

      function onMessage(event) {
        if (typeof event.data !== 'string' || !event.data.includes('info')) return;
        var info = JSON.parse(event.data).info;
        if (!info) return;

        var t = Math.floor(info.currentTime);

        if (t >= pauseTime && formPopup.style.display === 'none') {
          formPopup.style.display = 'flex';
          iframe.contentWindow.postMessage(
            JSON.stringify({ event: 'command', func: 'pauseVideo', args: [] }),
            '*'
          );
        }

        if (t >= signUpTime && signUpBtn.style.display === 'none') {
          signUpBtn.style.display = 'block';
        }

        if (t >= scheduleTime && scheduleBtn.style.display === 'none') {
          scheduleBtn.style.display = 'block';
          clearInterval(ping);
          window.removeEventListener('message', onMessage);
        }
      }

      clickOverlay.addEventListener('click', startVideo);

      document.getElementById('leadForm').addEventListener('submit', function (e) {
        e.preventDefault();
        var data = new FormData(e.target);
        fetch(e.target.action, { method: 'POST', body: data, mode: 'no-cors' }).finally(
          function () {
            formPopup.style.display = 'none';
            iframe.contentWindow.postMessage(
              JSON.stringify({ event: 'command', func: 'playVideo', args: [] }),
              '*'
            );
          }
        );
      });

      scheduleBtn.addEventListener('click', function () {
        document.getElementById('calendly-popup').style.display = 'flex';
      });

      document.querySelector('.close-cal').addEventListener('click', function () {
        document.getElementById('calendly-popup').style.display = 'none';
      });
    });
  </script>
</body>
</html>
